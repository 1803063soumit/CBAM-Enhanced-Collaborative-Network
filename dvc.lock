schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/BreastCancerClassification/pipeline/data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7d9c7d35f96fe5a6c8d77116ed96acff
      size: 371
    - path: src/BreastCancerClassification/pipeline/data_ingestion.py
      hash: md5
      md5: b1f69ce46f01ca1e7c884d3f0009e4dd
      size: 789
    outs:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 24aa178082ec92b71305a847e60e104e.dir
      size: 4279462730
      nfiles: 7923
  data_splitting:
    cmd: python src/BreastCancerClassification/pipeline/data_splitting.py
    deps:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 24aa178082ec92b71305a847e60e104e.dir
      size: 4279462730
      nfiles: 7923
    - path: config/config.yaml
      hash: md5
      md5: 7d9c7d35f96fe5a6c8d77116ed96acff
      size: 371
    - path: src/BreastCancerClassification/pipeline/data_splitting.py
      hash: md5
      md5: efd2420f2308695d1f2edfa2614f2a4d
      size: 852
    params:
      params.yaml:
        data.train_test_val_ratio:
        - 70
        - 15
        - 15
        data.zoom_factor: all
    outs:
    - path: artifacts/data_split
      hash: md5
      md5: 43b4d1e5a8dc00251bce110c3dd20895.dir
      size: 4279435131
      nfiles: 7909
  prepare_model:
    cmd: python src/BreastCancerClassification/pipeline/prepare_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7d9c7d35f96fe5a6c8d77116ed96acff
      size: 371
    - path: src/BreastCancerClassification/pipeline/prepare_model.py
      hash: md5
      md5: f798912c81ebd9676a70f0773b2e2579
      size: 839
    params:
      params.yaml:
        models.collaborator: InceptionResNetV2
        models.feature_extractor: DenseNet121
        models.image_size:
        - 224
        - 224
        - 3
        models.initial_learning_rate: 0.0001
        models.loss: binary_crossentropy
        models.num_target_class: 1
        models.optimizer: Adam
        models.weights: imagenet
    outs:
    - path: models/base_model.h5
      hash: md5
      md5: fa2402d084f72d1f71d77bebe0837cc7
      size: 264785240
  training:
    cmd: python src/BreastCancerClassification/pipeline/training_model.py
    deps:
    - path: artifacts/data_split/train
      hash: md5
      md5: 6251207c5ee67921f27d3e6c07816d80.dir
      size: 2992394228
      nfiles: 5536
    - path: artifacts/data_split/val
      hash: md5
      md5: a8c9e20ba92150df4d45aef602fa4087.dir
      size: 644913563
      nfiles: 1187
    - path: config/config.yaml
      hash: md5
      md5: 7d9c7d35f96fe5a6c8d77116ed96acff
      size: 371
    - path: models/base_model.h5
      hash: md5
      md5: fa2402d084f72d1f71d77bebe0837cc7
      size: 264785240
    - path: src/BreastCancerClassification/pipeline/training_model.py
      hash: md5
      md5: 9584c8f2abb7e384edead3934a44b58c
      size: 1040
    params:
      params.yaml:
        training.batch_size: 64
        training.decay_epoch: 3
        training.decay_rate: 0.9
        training.epochs: 60
    outs:
    - path: models/trained_model.h5
      hash: md5
      md5: d5e50a05097354653baac31a3090d29a
      size: 732391760
  evaluation:
    cmd: python src/BreastCancerClassification/pipeline/evaluate_model.py
    deps:
    - path: artifacts/data_split/test
      hash: md5
      md5: f765cbb72b46d4df6172fa98f749e64d.dir
      size: 642127340
      nfiles: 1186
    - path: config/config.yaml
      hash: md5
      md5: 7d9c7d35f96fe5a6c8d77116ed96acff
      size: 371
    - path: models/trained_model.h5
      hash: md5
      md5: d5e50a05097354653baac31a3090d29a
      size: 732391760
    - path: src/BreastCancerClassification/pipeline/evaluate_model.py
      hash: md5
      md5: c1e7e03efbddabdd6750141823bbf29c
      size: 896
    params:
      params.yaml:
        evaluation.batch_size: 1
    outs:
    - path: scores.json
      hash: md5
      md5: 0303924cfe2437699726cd094036e4f3
      size: 74
